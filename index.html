<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CÃ o LÃ¬ XÃ¬ Táº¿t 2026</title>

<style>
body{
  margin:0;
  font-family:"Segoe UI",sans-serif;
  text-align:center;
  background:linear-gradient(135deg,#b30000,#ff1a1a);
  color:#fff;
  overflow-x:hidden;
}

h1{
  margin-top:15px;
  font-size:clamp(18px,5vw,28px);
  text-shadow:2px 2px 5px #000;
}

.card{
  position:relative;
  width:90%;
  max-width:350px;
  aspect-ratio: 16/10;
  margin:25px auto;
  border-radius:20px;
  overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,0.4);
  border:3px solid gold;
}

#result{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(20px,6vw,32px);
  font-weight:bold;
}

canvas{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  touch-action:none;
}

button{
  padding:10px 18px;
  font-size:14px;
  border:none;
  border-radius:10px;
  background:gold;
  color:#c40000;
  font-weight:bold;
  cursor:pointer;
  margin:6px;
}

.prize-list{
  width:90%;
  max-width:380px;
  margin:15px auto;
  background:rgba(255,255,255,0.1);
  border-radius:15px;
  padding:10px;
  border:2px solid gold;
  font-size:14px;
}

.prize-item{
  display:flex;
  justify-content:space-between;
  padding:6px;
  border-bottom:1px solid rgba(255,255,255,0.2);
}

.prize-item:last-child{
  border:none;
}

.falling{
  position:fixed;
  top:-20px;
  font-size:18px;
  animation:fall linear infinite;
}

@keyframes fall{
  to{ transform:translateY(110vh); }
}
</style>
</head>

<body>

<h1>ğŸ§§ CÃ€O LÃŒ XÃŒ MAY Máº®N 2026 ğŸ§§</h1>

<div class="card">
  <div id="result"></div>
  <canvas id="scratch"></canvas>
</div>

<div>
  <button onclick="resetGame()">CÃ o láº¡i</button>
  <button onclick="toggleMusic()">ğŸµ Báº­t / Táº¯t Nháº¡c</button>
</div>

<div class="prize-list" id="prizeList"></div>

<!-- ğŸ”¥ DÃ™NG FILE MP3 LOCAL -->
<audio id="bgMusic" loop preload="auto">
  <source src="./tet.mp3" type="audio/mpeg">
</audio>

<script>

const prizes = [
  {name:"5.000Ä‘", icon:"ğŸ§§", rate:35.0, color:"#ffadad"},
  {name:"10.000Ä‘", icon:"ğŸ’°", rate:30.0, color:"#ef233c"},
  {name:"20.000Ä‘", icon:"ğŸ", rate:20.0, color:"#ffbe0b"},
  {name:"30.000Ä‘", icon:"ğŸ‰", rate:8.0, color:"#ffd166"},
  {name:"50.000Ä‘", icon:"ğŸ’", rate:4.0, color:"#3a86ff"},
  {name:"100.000Ä‘", icon:"ğŸ‘‘", rate:2.0, color:"#8338ec"},
  {name:"200.000Ä‘", icon:"ğŸ”¥", rate:0.7, color:"#06d6a0"},
  {name:"500.000Ä‘", icon:"ğŸ†", rate:0.3, color:"#ffd166"}
];


function renderPrizeList(){
  const list=document.getElementById("prizeList");
  list.innerHTML="<h3>ğŸ Danh sÃ¡ch má»‡nh giÃ¡</h3>";
  prizes.forEach(p=>{
    const div=document.createElement("div");
    div.className="prize-item";
    div.innerHTML=`<span>${p.icon} ${p.name}</span>`;
    list.appendChild(div);
  });
}

function weightedRandom(arr){
  const total=arr.reduce((s,p)=>s+p.rate,0);
  let rand=Math.random()*total;
  for(let p of arr){
    if(rand<p.rate) return p;
    rand-=p.rate;
  }
}

function startGame(){
  const prize=weightedRandom(prizes);
  const result=document.getElementById("result");
  result.innerHTML=`${prize.icon} ${prize.name}`;
  result.style.background=prize.color;

  const canvas=document.getElementById("scratch");
  const ctx=canvas.getContext("2d");

  canvas.width=canvas.offsetWidth;
  canvas.height=canvas.offsetHeight;

  ctx.globalCompositeOperation="source-over";
  ctx.fillStyle="#990000";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="gold";
  ctx.font="bold 20px sans-serif";
  ctx.fillText("CÃ o á»Ÿ Ä‘Ã¢y!",canvas.width/4,canvas.height/2);

  ctx.globalCompositeOperation="destination-out";

  let drawing=false;

  function scratch(e){
    const rect=canvas.getBoundingClientRect();
    const x=(e.touches?e.touches[0].clientX:e.clientX)-rect.left;
    const y=(e.touches?e.touches[0].clientY:e.clientY)-rect.top;
    ctx.beginPath();
    ctx.arc(x,y,25,0,Math.PI*2);
    ctx.fill();
  }

  canvas.onmousedown=()=>drawing=true;
  canvas.onmouseup=()=>drawing=false;
  canvas.onmouseleave=()=>drawing=false;
  canvas.onmousemove=(e)=>{ if(drawing) scratch(e); };

  canvas.addEventListener("touchstart",(e)=>{
    drawing=true;
    scratch(e);
  },{passive:false});

  canvas.addEventListener("touchend",()=>drawing=false);

  canvas.addEventListener("touchmove",(e)=>{
    e.preventDefault();
    if(drawing) scratch(e);
  },{passive:false});
}

function resetGame(){ startGame(); }

function toggleMusic(){
  const m=document.getElementById("bgMusic");
  m.paused ? m.play() : m.pause();
}

/* ğŸ”¥ AUTO PLAY SAU Láº¦N CHáº M Äáº¦U TIÃŠN */
document.addEventListener("touchstart", function autoPlayOnce(){
  const music = document.getElementById("bgMusic");
  music.play();
  document.removeEventListener("touchstart", autoPlayOnce);
});


function createFlower(){
  const f=document.createElement("div");
  f.className="falling";
  f.innerHTML="ğŸŒ¸";
  f.style.left=Math.random()*100+"vw";
  f.style.animationDuration=(3+Math.random()*5)+"s";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),8000);
}
setInterval(createFlower,700);

renderPrizeList();
startGame();

</script>

</body>
</html>
